import{d as u,j as v,v as t,x as s,z as p,X as x,G as y,y as e,F as h,J as m,A as k,Y as $,r as C,u as L,o as j,L as B,M as T}from"./CFQ_Fs7C.js";import{_ as V}from"./DlAUqK2U.js";import{u as F}from"./Cw9DUKrr.js";const G=u({__name:"movieRating",props:{rating:{}},setup(n){const o=n,a=v(()=>{const l=+o.rating;return l>8?"border-green-500":l>5?"border-orange-500":"border-red-500"});return(l,d)=>(t(),s("div",{class:x(["h-[20px] w-[20px] flex items-center justify-center border-2 rounded-full p-4",y(a)])},p(o.rating),3))}}),I={class:"h-[40px] w-[40px] flex items-center justify-center"},M=["fill"],R=e("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1),S=e("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),z=e("g",{id:"SVGRepo_iconCarrier"},[e("path",{d:"M5 6.2C5 5.07989 5 4.51984 5.21799 4.09202C5.40973 3.71569 5.71569 3.40973 6.09202 3.21799C6.51984 3 7.07989 3 8.2 3H15.8C16.9201 3 17.4802 3 17.908 3.21799C18.2843 3.40973 18.5903 3.71569 18.782 4.09202C19 4.51984 19 5.07989 19 6.2V21L12 16L5 21V6.2Z",stroke:"orange","stroke-width":"2","stroke-linejoin":"round"})],-1),N=[R,S,z],E=u({__name:"movieBookmark",props:{status:{type:Boolean}},setup(n){const o=n;return(a,l)=>(t(),s("div",I,[(t(),s("svg",{class:"h-[20px] w-[20px]",viewBox:"0 0 24 24",fill:o.status?"orange":"transparent",xmlns:"http://www.w3.org/2000/svg",stroke:"#002aff"},N,8,M))]))}}),P={class:"cursor-pointer w-full grid group gap-y-1 max-w-[230px] self-start justify-self-center"},A={class:"relative rounded-md overflow-hidden h-[340px]"},D={class:"absolute top-0 left-0 w-full z-10 flex justify-between"},H={class:"flex items-center mt-2 ml-2 gap-x-2"},J={class:"p-1 rounded-md bg-[#4a6fb5] text-[0.8rem]"},O=["src","alt"],U={class:"transition-opacity absolute group-hover:opacity-30 top-0 left-0 h-full w-full bg-black opacity-0"},X={class:"text-white/70 line-clamp-2"},Y=u({__name:"movieCard",props:{item:{}},emits:["favoriteToggle"],setup(n,{emit:o}){const a=n,l=o,d=()=>{l("favoriteToggle")};return v(()=>a.item.favorite?"remove":"add"),(r,f)=>(t(),s("div",P,[e("div",A,[e("div",D,[e("div",H,[r.item.rating?(t(),h(G,{key:0,rating:r.item.rating},null,8,["rating"])):m("",!0),e("div",J,p(r.item.year),1)]),k(E,{class:"self-end",status:r.item.favorite,onClick:$(d,["stop"])},null,8,["status"])]),e("img",{class:"w-full h-full transition-transform group-hover:scale-105 object-fill",src:r.item.posterUrlPreview,alt:r.item.name},null,8,O),e("div",U,[m("",!0)])]),e("p",X,p(r.item.name),1)]))}}),Z={},q={class:"loader"};function K(n,o){return t(),s("div",q)}const Q=V(Z,[["render",K],["__scopeId","data-v-12ce140c"]]),W={class:"relative"},ee={key:0,class:"text-xl mb-8"},te={key:1,class:"h-[1000px] pt-24"},se={key:2,class:"w-full gap-4 gap-x-a grid this-grid"},ne=u({__name:"movieGrid",props:{movieList:{},title:{},isLoaded:{type:Boolean}},emits:["pagination"],setup(n,{emit:o}){const a=C(),l=F(),d=L(),r=n,f=o,w=i=>{l.favoriteToggle(i)},b=i=>{d.push(`/watch/${i}`)};return j(()=>{const i=new IntersectionObserver((g,c)=>{g.forEach(_=>{_.isIntersecting&&f("pagination")})},{threshold:1});a.value&&(console.log("123"),i.observe(a.value))}),(i,g)=>(t(),s("div",W,[i.title?(t(),s("p",ee,p(i.title),1)):m("",!0),i.isLoaded?(t(),s("div",te,[k(Q,{class:"mx-auto"})])):(t(),s("div",se,[(t(!0),s(B,null,T(r.movieList,c=>(t(),h(Y,{key:c.kinopoiskId,item:c,onFavoriteToggle:_=>w(c),onClick:_=>b(c.kinopoiskId)},null,8,["item","onFavoriteToggle","onClick"]))),128))])),e("div",{ref_key:"observer",ref:a,class:"h-12 w-full"},null,512)]))}});export{ne as _};
